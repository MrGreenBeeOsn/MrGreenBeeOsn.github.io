import{r as c,j as e,L as o}from"./index-C_4oLV8f.js";import{S}from"./SearchIcon-C30I-2Tf.js";import y from"./Posts-DN3w2ESG.js";function N({posts:d,onSearchResults:l}){const[a,i]=c.useState(""),[h,n]=c.useState(!1),t=r=>r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D").toLowerCase(),s=()=>{if(a.trim()===""){n(!1),l([]);return}n(!0);const r=t(a),j=(d||[]).filter(m=>{const g=t(m.title||""),f=t(m.content||""),p=t(m.categoryDisplay||"");return g.includes(r)||f.includes(r)||p.includes(r)});l(j)},u=r=>{r.key==="Enter"&&s()},x=()=>{i(""),n(!1),l([])};return e.jsxs("div",{className:"search-bar",children:[e.jsx("button",{onClick:s,className:"search-btn",children:e.jsx(S,{size:24,fill:"var(--tertiary-color)",stroke:"var(--secondary-color)"})}),e.jsx("input",{type:"text",placeholder:"Bee Search",value:a,onChange:r=>i(r.target.value),onKeyPress:u}),h&&e.jsx("button",{onClick:x,className:"clear-btn",children:"✕"})]})}function v(){const[d,l]=c.useState([]),[a,i]=c.useState([]),[h,n]=c.useState(!1);c.useEffect(()=>{l(y())},[]);const t=s=>{i(s),n(!0)};return e.jsxs("div",{className:"blog-container",children:[e.jsx(N,{posts:d,onSearchResults:t}),e.jsx("div",{className:"posts-list",children:h?e.jsx(e.Fragment,{children:a.length===1?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"results-count",children:[a.length," result found"]}),a.map(s=>e.jsxs("article",{className:"post-card",children:[e.jsx("p",{className:"post-category",children:e.jsx(o,{to:`/${s.categorySlug}`,children:s.categoryDisplay})}),e.jsx("h2",{children:s.title}),e.jsxs("p",{className:"post-date",children:["Date: ",s.date]}),e.jsx("p",{children:s.content}),e.jsx(o,{to:`/${s.slug}`,children:"Read more"})]},s.id))]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"results-count",children:[a.length," results found"]}),a.map(s=>e.jsxs("article",{className:"post-card",children:[e.jsx("p",{className:"post-category",children:e.jsx(o,{to:`/${s.categorySlug}`,children:s.categoryDisplay})}),e.jsx("h2",{children:s.title}),e.jsxs("p",{className:"post-date",children:["Date: ",s.date]}),e.jsx("p",{children:s.content}),e.jsx(o,{to:`/${s.slug}`,children:"Read more"})]},s.id))]})}):e.jsx(e.Fragment,{})})]})}function z(){return e.jsx(e.Fragment,{children:e.jsx("main",{className:"image image3",children:e.jsx("div",{className:"table-search",children:e.jsx(v,{})})})})}export{z as default};
